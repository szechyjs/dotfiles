[user]
	name = Jared Szechy
	email = {{ .email | quote }}
	signingkey = {{ .gpgkey }}

[credential]
	helper = osxkeychain

[color]
	diff = auto
	status = auto
	branch = auto
	ui = auto

[core]
	excludesfile = ~/.gitignore
	editor = nvim
	ignorecase = false
  pager = delta --diff-so-fancy
  precomposeUnicode = true

[commit]
  gpgsign = true

[push]
	default = simple

[alias]
	merge-noff = merge --no-ff
  ci = commit
  co = checkout
  unstage = restore --staged
  pdiff = diff --patience
  po = "!git push --set-upstream origin \"$(git rev-parse --abbrev-ref HEAD)\""
  local = "! git fetch && git log --oneline --no-merges origin/$(git rev-parse --abbrev-ref HEAD).."

	assume   = update-index --assume-unchanged
	unassume = update-index --no-assume-unchanged
	assumed  = "!git ls-files -v | grep ^h | cut -c 3-"

  serve = daemon --reuseaddr --verbose --base-path=. --export-all --informative-errors
  br = branch --sort=-committerdate
	delete-squashed = "!f() { local targetBranch=${1:-master} && git checkout -q $targetBranch && git branch --merged | grep -v \"\\*\" | xargs -n 1 git branch -d && git for-each-ref refs/heads/ \"--format=%(refname:short)\" | while read branch; do mergeBase=$(git merge-base $targetBranch $branch) && [[ $(git cherry $targetBranch $(git commit-tree $(git rev-parse $branch^{tree}) -p $mergeBase -m _)) == \"-\"* ]] && git branch -D $branch; done; }; f"
	find-squashed = "!f() { local targetBranch=${1:-master} && git checkout -q $targetBranch && git branch --merged | grep -v \"\\*\" | xargs -n 1 git branch -d && git for-each-ref refs/heads/ \"--format=%(refname:short)\" | while read branch; do mergeBase=$(git merge-base $targetBranch $branch) && [[ $(git cherry $targetBranch $(git commit-tree $(git rev-parse $branch^{tree}) -p $mergeBase -m _)) == \"-\"* ]] && echo $branch; done; }; f"

[github]
  user = szechyjs

[interactive]
  diffFilter = delta --color-only --diff-so-fancy

[diff]
  colorMoved = default

[delta]
  navigate = true

[diff "enc"]
  textconv = rails encrypted:show
  cachetextconv = false

[filter "lfs"]
  clean = git-lfs clean -- %f
  smudge = git-lfs smudge -- %f
  required = true
  process = git-lfs filter-process

[url "git+ssh://szechyjs@git.launchpad.net/"]
  insteadof = lp:

[help]
  autocorrect = 10

[init]
  defaultBranch = main
